{"ast":null,"code":"const progressAverage = (nums, precision) => {\n  const total = nums.reduce((prev, current) => prev + current, 0);\n  return parseFloat((total / nums.length).toFixed(precision));\n};\n\nexport const calculateSectionProgress = section => {\n  const {\n    progress: {\n      completed,\n      total\n    }\n  } = section;\n  return parseFloat((completed / total * 100).toFixed(0));\n};\nexport const calculateCourseProgress = function (course) {\n  let precision = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  const {\n    sections\n  } = course;\n  const progresses = sections.map(calculateSectionProgress);\n  return progressAverage(progresses, precision);\n};\nexport const calculateSemesterProgress = function (semester) {\n  let precision = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Consider core content only.\n  const courses = semester.courses.filter(c => !c.isOptional);\n  const progresses = courses.map(calculateCourseProgress);\n  return progressAverage(progresses, precision);\n};\nexport const calculateDiplomaProgress = function (diploma) {\n  let precision = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  const {\n    semesters\n  } = diploma;\n  const progresses = semesters.map(calculateSemesterProgress);\n  return progressAverage(progresses, precision);\n};","map":{"version":3,"sources":["D:/Office/Project/www/nginx/html/Personal-Projects/portfolio-app/src/utils/diploma.ts"],"names":["progressAverage","nums","precision","total","reduce","prev","current","parseFloat","length","toFixed","calculateSectionProgress","section","progress","completed","calculateCourseProgress","course","sections","progresses","map","calculateSemesterProgress","semester","courses","filter","c","isOptional","calculateDiplomaProgress","diploma","semesters"],"mappings":"AAEA,MAAMA,eAAe,GAAG,CAACC,IAAD,EAAiBC,SAAjB,KAAuC;AAC7D,QAAMC,KAAK,GAAGF,IAAI,CAACG,MAAL,CAAY,CAACC,IAAD,EAAOC,OAAP,KAAmBD,IAAI,GAAGC,OAAtC,EAA+C,CAA/C,CAAd;AACA,SAAOC,UAAU,CAAC,CAACJ,KAAK,GAAGF,IAAI,CAACO,MAAd,EAAsBC,OAAtB,CAA8BP,SAA9B,CAAD,CAAjB;AACD,CAHD;;AAKA,OAAO,MAAMQ,wBAAwB,GACnCC,OADsC,IAE3B;AACX,QAAM;AACJC,IAAAA,QAAQ,EAAE;AAAEC,MAAAA,SAAF;AAAaV,MAAAA;AAAb;AADN,MAEFQ,OAFJ;AAGA,SAAOJ,UAAU,CAAC,CAAEM,SAAS,GAAGV,KAAb,GAAsB,GAAvB,EAA4BM,OAA5B,CAAoC,CAApC,CAAD,CAAjB;AACD,CAPM;AASP,OAAO,MAAMK,uBAAuB,GAAG,UACrCC,MADqC,EAG1B;AAAA,MADXb,SACW,uEADC,CACD;AACX,QAAM;AAAEc,IAAAA;AAAF,MAAeD,MAArB;AACA,QAAME,UAAU,GAAGD,QAAQ,CAACE,GAAT,CAAaR,wBAAb,CAAnB;AACA,SAAOV,eAAe,CAACiB,UAAD,EAAaf,SAAb,CAAtB;AACD,CAPM;AASP,OAAO,MAAMiB,yBAAyB,GAAG,UACvCC,QADuC,EAG5B;AAAA,MADXlB,SACW,uEADC,CACD;AACX;AACA,QAAMmB,OAAO,GAAGD,QAAQ,CAACC,OAAT,CAAiBC,MAAjB,CAAyBC,CAAD,IAAO,CAACA,CAAC,CAACC,UAAlC,CAAhB;AACA,QAAMP,UAAU,GAAGI,OAAO,CAACH,GAAR,CAAYJ,uBAAZ,CAAnB;AACA,SAAOd,eAAe,CAACiB,UAAD,EAAaf,SAAb,CAAtB;AACD,CARM;AAUP,OAAO,MAAMuB,wBAAwB,GAAG,UACtCC,OADsC,EAG3B;AAAA,MADXxB,SACW,uEADC,CACD;AACX,QAAM;AAAEyB,IAAAA;AAAF,MAAgBD,OAAtB;AACA,QAAMT,UAAU,GAAGU,SAAS,CAACT,GAAV,CAAcC,yBAAd,CAAnB;AACA,SAAOnB,eAAe,CAACiB,UAAD,EAAaf,SAAb,CAAtB;AACD,CAPM","sourcesContent":["import { DiplomaTypes } from '../models';\r\n\r\nconst progressAverage = (nums: number[], precision: number) => {\r\n  const total = nums.reduce((prev, current) => prev + current, 0);\r\n  return parseFloat((total / nums.length).toFixed(precision));\r\n};\r\n\r\nexport const calculateSectionProgress = (\r\n  section: DiplomaTypes.Section,\r\n): number => {\r\n  const {\r\n    progress: { completed, total },\r\n  } = section;\r\n  return parseFloat(((completed / total) * 100).toFixed(0));\r\n};\r\n\r\nexport const calculateCourseProgress = (\r\n  course: DiplomaTypes.Course,\r\n  precision = 0,\r\n): number => {\r\n  const { sections } = course;\r\n  const progresses = sections.map(calculateSectionProgress);\r\n  return progressAverage(progresses, precision);\r\n};\r\n\r\nexport const calculateSemesterProgress = (\r\n  semester: DiplomaTypes.Semester,\r\n  precision = 0,\r\n): number => {\r\n  // Consider core content only.\r\n  const courses = semester.courses.filter((c) => !c.isOptional);\r\n  const progresses = courses.map(calculateCourseProgress);\r\n  return progressAverage(progresses, precision);\r\n};\r\n\r\nexport const calculateDiplomaProgress = (\r\n  diploma: DiplomaTypes.Curriculum,\r\n  precision = 0,\r\n): number => {\r\n  const { semesters } = diploma;\r\n  const progresses = semesters.map(calculateSemesterProgress);\r\n  return progressAverage(progresses, precision);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}